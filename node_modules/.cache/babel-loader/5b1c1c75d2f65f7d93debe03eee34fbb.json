{"ast":null,"code":"var _classCallCheck = require(\"/Users/loanaubergeon/Documents/CODE/loan.me-v2/new_loan.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/loanaubergeon/Documents/CODE/loan.me-v2/new_loan.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/Users/loanaubergeon/Documents/CODE/loan.me-v2/new_loan.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/loanaubergeon/Documents/CODE/loan.me-v2/new_loan.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/Users/loanaubergeon/Documents/CODE/loan.me-v2/new_loan.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar React = require('react');\n\nvar hoistStatics = require('hoist-non-react-statics');\n\nvar objectAssign = require('object-assign');\n\nvar Cookies = require('universal-cookie');\n\nvar subscribes = {};\nvar translations = {};\nvar defaultLanguage = 'en';\nvar language = 'en';\nvar count = 0;\nvar cookies;\nvar cookieName = 'language';\nvar cookieOption = {\n  path: '/',\n  maxAge: 157680000\n};\n\nfunction subscribe(cb) {\n  var newId = count;\n  subscribes[newId] = cb;\n  count += 1;\n  return newId;\n}\n\nfunction unsubscribe(id) {\n  delete subscribes[id];\n}\n\nfunction triggerSubscriptions() {\n  Object.keys(subscribes).forEach(function (id) {\n    new Promise(function (resolve) {\n      subscribes[id]();\n      resolve();\n    }).then();\n  });\n}\n\nfunction getLanguages() {\n  return Object.keys(translations);\n}\n\nfunction getDefaultLanguage() {\n  return defaultLanguage;\n}\n\nfunction getLanguage() {\n  return language;\n}\n\nfunction setDefaultLanguage(lang) {\n  defaultLanguage = lang;\n  language = lang;\n}\n\nfunction setLanguage(lang) {\n  if (getLanguages().indexOf(lang) === -1) {\n    return;\n  }\n\n  language = lang;\n  triggerSubscriptions();\n\n  if (cookies && process.browser) {\n    cookies.set(cookieName, language, cookieOption);\n  }\n}\n\nfunction setLanguageCookie(name, option, reqCookie) {\n  cookies = new Cookies(reqCookie);\n  cookieName = name || cookieName;\n  cookieOption = Object.assign({}, cookieOption, option);\n  var lang = cookies.get(name);\n\n  if (lang) {\n    setLanguage(lang);\n  }\n}\n\nfunction setTranslations(userTranslations) {\n  translations = userTranslations;\n  triggerSubscriptions();\n}\n\nfunction setDefaultTranslations(userTranslations) {\n  if (getLanguages().length !== 0) {\n    setTranslations(userTranslations);\n    return;\n  }\n\n  translations = userTranslations;\n}\n\nfunction getTranslation(lang) {\n  return translations[lang];\n}\n\nfunction _t(path, params, lang) {\n  var selectLang = lang || language;\n\n  function fallback() {\n    if (selectLang !== defaultLanguage) {\n      return _t(path, params, defaultLanguage);\n    }\n\n    return path;\n  }\n\n  var translationObj = getTranslation(selectLang);\n\n  if (!translationObj) {\n    return fallback();\n  }\n\n  var translationKeys = path.split('.');\n  var translation = '';\n  translationKeys.forEach(function (key) {\n    var temp = translationObj[key];\n\n    if (typeof translationObj[key] === 'object') {\n      translationObj = translationObj[key];\n    } else if (typeof temp === 'string') {\n      translation = temp;\n    }\n  });\n\n  if (!translation) {\n    return fallback();\n  }\n\n  if (params) {\n    Object.keys(params).forEach(function (key) {\n      var replace = \"{\".concat(key, \"}\");\n      translation = translation.replace(replace, params[key]);\n    });\n  }\n\n  return translation;\n}\n\nfunction translate(Component) {\n  var TranslatedComponet = /*#__PURE__*/function (_React$Component) {\n    \"use strict\";\n\n    _inherits(TranslatedComponet, _React$Component);\n\n    function TranslatedComponet() {\n      _classCallCheck(this, TranslatedComponet);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(TranslatedComponet).apply(this, arguments));\n    }\n\n    _createClass(TranslatedComponet, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this = this;\n\n        this.id = subscribe(function () {\n          return _this.forceUpdate();\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        unsubscribe(this.id);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return React.createElement(Component, objectAssign({}, this.props, {\n          t: function t(key, args, lang) {\n            return _t(key, args, lang);\n          }\n        }));\n      }\n    }]);\n\n    return TranslatedComponet;\n  }(React.Component);\n\n  return hoistStatics(TranslatedComponet, Component);\n}\n\nmodule.exports = {\n  getLanguages: getLanguages,\n  getDefaultLanguage: getDefaultLanguage,\n  getLanguage: getLanguage,\n  setDefaultLanguage: setDefaultLanguage,\n  setLanguage: setLanguage,\n  setLanguageCookie: setLanguageCookie,\n  setDefaultTranslations: setDefaultTranslations,\n  setTranslations: setTranslations,\n  translate: translate,\n  subscribe: subscribe,\n  unsubscribe: unsubscribe,\n  t: _t\n};","map":{"version":3,"sources":["/Users/loanaubergeon/Documents/CODE/loan.me-v2/new_loan.me/node_modules/react-switch-lang/index.js"],"names":["React","require","hoistStatics","objectAssign","Cookies","subscribes","translations","defaultLanguage","language","count","cookies","cookieName","cookieOption","path","maxAge","subscribe","cb","newId","unsubscribe","id","triggerSubscriptions","Object","keys","forEach","Promise","resolve","then","getLanguages","getDefaultLanguage","getLanguage","setDefaultLanguage","lang","setLanguage","indexOf","process","browser","set","setLanguageCookie","name","option","reqCookie","assign","get","setTranslations","userTranslations","setDefaultTranslations","length","getTranslation","t","params","selectLang","fallback","translationObj","translationKeys","split","translation","key","temp","replace","translate","Component","TranslatedComponet","forceUpdate","createElement","props","args","module","exports"],"mappings":"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","sourcesContent":["const React = require('react');\nconst hoistStatics = require('hoist-non-react-statics');\nconst objectAssign = require('object-assign');\nconst Cookies = require('universal-cookie');\n\nconst subscribes = {};\n\nlet translations = {};\nlet defaultLanguage = 'en';\nlet language = 'en';\nlet count = 0;\nlet cookies;\nlet cookieName = 'language';\nlet cookieOption = { path: '/', maxAge: 157680000 };\n\nfunction subscribe(cb) {\n  const newId = count;\n  subscribes[newId] = cb;\n  count += 1;\n  return newId;\n}\n\nfunction unsubscribe(id) {\n  delete subscribes[id];\n}\n\nfunction triggerSubscriptions() {\n  Object.keys(subscribes).forEach((id) => {\n    new Promise((resolve) => {\n      subscribes[id]();\n      resolve();\n    }).then();\n  });\n}\n\nfunction getLanguages() {\n  return Object.keys(translations);\n}\n\nfunction getDefaultLanguage() {\n  return defaultLanguage;\n}\n\nfunction getLanguage() {\n  return language;\n}\n\nfunction setDefaultLanguage(lang) {\n  defaultLanguage = lang;\n  language = lang;\n}\n\nfunction setLanguage(lang) {\n  if (getLanguages().indexOf(lang) === -1) {\n    return;\n  }\n\n  language = lang;\n  triggerSubscriptions();\n\n  if (cookies && process.browser) {\n    cookies.set(cookieName, language, cookieOption);\n  }\n}\n\nfunction setLanguageCookie(name, option, reqCookie) {\n  cookies = new Cookies(reqCookie);\n  cookieName = name || cookieName;\n  cookieOption = Object.assign({}, cookieOption, option);\n\n  const lang = cookies.get(name);\n\n  if (lang) {\n    setLanguage(lang);\n  }\n}\n\nfunction setTranslations(userTranslations) {\n  translations = userTranslations;\n  triggerSubscriptions();\n}\n\nfunction setDefaultTranslations(userTranslations) {\n  if (getLanguages().length !== 0) {\n    setTranslations(userTranslations);\n    return;\n  }\n  translations = userTranslations;\n}\n\nfunction getTranslation(lang) {\n  return translations[lang];\n}\n\nfunction t(path, params, lang) {\n  const selectLang = lang || language;\n\n  function fallback() {\n    if (selectLang !== defaultLanguage) {\n      return t(path, params, defaultLanguage);\n    }\n    return path;\n  }\n\n  let translationObj = getTranslation(selectLang);\n\n  if (!translationObj) {\n    return fallback();\n  }\n\n  const translationKeys = path.split('.');\n  let translation = '';\n\n  translationKeys.forEach((key) => {\n    const temp = translationObj[key];\n    if (typeof translationObj[key] === 'object') {\n      translationObj = translationObj[key];\n    } else if (typeof temp === 'string') {\n      translation = temp;\n    }\n  });\n\n  if (!translation) {\n    return fallback();\n  }\n\n  if (params) {\n    Object.keys(params).forEach((key) => {\n      const replace = `{${key}}`;\n      translation = translation.replace(replace, params[key]);\n    });\n  }\n\n  return translation;\n}\n\nfunction translate(Component) {\n  class TranslatedComponet extends React.Component {\n    componentDidMount() {\n      this.id = subscribe(() => this.forceUpdate());\n    }\n\n    componentWillUnmount() {\n      unsubscribe(this.id);\n    }\n\n    render() {\n      return React.createElement(\n        Component,\n        objectAssign({}, this.props, { t: (key, args, lang) => t(key, args, lang) }),\n      );\n    }\n  }\n\n  return hoistStatics(TranslatedComponet, Component);\n}\n\nmodule.exports = {\n  getLanguages,\n  getDefaultLanguage,\n  getLanguage,\n  setDefaultLanguage,\n  setLanguage,\n  setLanguageCookie,\n  setDefaultTranslations,\n  setTranslations,\n  translate,\n  subscribe,\n  unsubscribe,\n  t,\n};\n"]},"metadata":{},"sourceType":"script"}